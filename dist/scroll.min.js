/**
 * @touchjs/scroll v1.0.0
 * (c) 2014-2020 by elvin zhu
 * Released under the MIT License.
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Scroll=t()}(this,(function(){"use strict";function e(e,t,o,n){void 0===n&&(n=!1),e.addEventListener(t,o,n)}function t(e,t,o,n){void 0===n&&(n=!1),e.removeEventListener(t,o,n)}var o=["webkit","ms","moz","o"];function n(e,t){var n=t||document.body.style;if(!(e in n))for(var i=e.charAt(0).toUpperCase(),r=e.substr(1),u=0;u<o.length;u++){var a=o[u]+i+r;if(a in n)return a}return e}return function(o,i){if(!o.__joyfulljs_scroll_bound){o.__joyfulljs_scroll_bound=!0;var r=window[n("requestAnimationFrame")]||function(e){return setTimeout(e,16)},u=o,a=o.querySelector(":first-child"),c={},s=n("transform"),d=!1,f=!1,h=0,m=0,p=0,l=0,g=0,v=0,w=function(o,n){if("[object Object]"!==Object.prototype.toString.call(n))throw new Error("[xtouch]: argument `options` is missing or illegal.");var i=n.onStart,r=n.onMove,u=n.onEnd,a=n.capture,c=null,s=function(e){"mousedown"===e.type&&(c=e.target,e.identifier=0,e.touches=e.changedTouches=[e],e.targetTouches=[e]),i(e)},d=function(e){"mousemove"===e.type&&(e.identifier=0,e.touches=e.changedTouches=[e],e.targetTouches=e.target===c?[e]:[]),r(e)},f=function(e){"mouseup"===e.type&&(e.identifier=0,e.touches=[],e.changedTouches=[e],e.targetTouches=e.target===c?[e]:[]),u(e)};return i&&(e(o,"touchstart",s,a),e(o,"mousedown",s,a)),r&&(e(window,"touchmove",d,a),e(window,"mousemove",d,a)),u&&(e(window,"touchend",f,a),e(window,"mouseup",f,a)),function(){t(o,"touchstart",s,a),t(window,"touchmove",d,a),t(window,"touchend",f,a),t(o,"mousedown",s,a),t(window,"mousemove",d,a),t(window,"mouseup",f,a)}}(u,{onStart:function(e){h=j(u),m=j(a),l=Y(a),p=h-m,f=!1,d=!0,1===e.touches.length&&(g=l,v=0,l>=0?v=l/.3-g:l<=p&&(v=(l-p)/.3+p-g));c[e.changedTouches[0].identifier]={touchStartY:e.changedTouches[0].pageY,speedStartY:l,speedStartTime:e.timeStamp}},onEnd:T,onMove:function(e){if(d){var t=S(e,e.changedTouches[0]);if(e.changedTouches.length>1)for(var o=1,n=e.changedTouches.length;o<n;o++)t+=S(e,e.changedTouches[o]);(l=g+(v+=t))>0?l*=.3:l<p&&(l=p+.3*(l-p)),b(l),e.preventDefault()}},capture:{passive:!1}});return e(u,"touchcancel",T,!0),{destroy:function(){w(),t(u,"touchcancel",T,!0)}}}function S(e,t){var o=c[t.identifier];if(o){var n=t.pageY-o.touchStartY;return o.touchStartY=t.pageY,e.timeStamp-o.speedStartTime>200&&(o.speedStartY=l,o.speedStartTime=e.timeStamp),n}return 0}function T(e){d=!1;var t=e.changedTouches[0].identifier;if(0===e.touches.length){var o=c[t];if(o)!function(e,t){var o=Math.abs(e);if(!o||o<.01)return void(l>0?y(0):l<p&&y(p));f=!0;var n,i=o,u=e<0;r((function e(){f&&(i-=i/o*.3+.1,u?l-=i:l+=i,t(l),n=Math.min(3*i,120),l>n?y(0):l<p-n?y(p):i>0&&r(e))}))}((l-o.speedStartY)/((e.timeStamp-o.speedStartTime)/16),b)}delete c[t]}function y(e){f=!0,r((function t(){if(f){var o=l-e;Math.abs(o)<.01?l=e:(l-=.12*o,r(t)),b(l)}}))}function b(e){a.style[s]="translate3d(0,"+e+"px,0)"}function Y(e){var t=window.getComputedStyle(e)[s];return t&&"none"!==t?parseFloat(t.split(")")[0].split(",")[5]):0}function j(e){var t=window.getComputedStyle(e);return parseFloat(t.height)+parseFloat(t.marginTop)+parseFloat(t.marginBottom)}}}));
